# P-03 — provider capability 계약을 단순 flag로 둘지 상세 계약으로 둘지

## 문맥
- capability 계약은 전략 선택 로직의 근거다. 너무 단순하면 분기 누수, 너무 상세하면 유지비가 상승한다.

## 선택지별 트레이드오프
### A) boolean flags 최소
- 트레이드오프: 간결하지만 기능별 세밀 제어가 어렵다.
- 되돌리기 비용(코드 변경량): 300줄 미만

### B) context/tool/hook/session 상세 capability
- 트레이드오프: 정확한 분기가 가능하지만 인터페이스 관리 비용이 증가한다.
- 되돌리기 비용(코드 변경량): 300줄 미만

## 질문 중요도
- 최대 되돌리기 비용: 300줄 미만
- 중요도: 높음 (되돌릴 때 바뀌는 코드 경로의 폭 기준)

## 결정 체크포인트
- 선택 즉시 영향받는 영역: 포트 인터페이스, 핸들러/서비스 분기, 테스트 전략
- 결정 후 확인할 지표: 회귀 실패율, PR 크기, 리팩토링 단계 충돌 건수
