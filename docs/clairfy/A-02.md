# A-02 — 입력 공통 스키마 필드 최소치를 어디까지 둘지

## 문맥
- 입력 스키마는 모든 핸들러와 도메인 서비스가 만나는 계약이다. 필드 설계는 API 안정성 자체다.

## 선택지별 트레이드오프
### A) 핵심 필드만 필수(id/chatId/userId/text/attachments/timestamp)
- 트레이드오프: 간결하지만 thread/reply 기반 기능 확장 때 스키마 확장이 잦아질 수 있다.
- 되돌리기 비용(코드 변경량): 100줄 미만

### B) thread/reply/locale까지 필수
- 트레이드오프: 확장 친화적이지만 현재 Telegram-only 경로에 과설계가 될 수 있다.
- 되돌리기 비용(코드 변경량): 300줄 미만

## 질문 중요도
- 최대 되돌리기 비용: 300줄 미만
- 중요도: 높음 (되돌릴 때 바뀌는 코드 경로의 폭 기준)

## 결정 체크포인트
- 선택 즉시 영향받는 영역: 포트 인터페이스, 핸들러/서비스 분기, 테스트 전략
- 결정 후 확인할 지표: 회귀 실패율, PR 크기, 리팩토링 단계 충돌 건수
