# S-03 — prompts/identity source of truth를 어디로 고정할지

## 문맥
- SSOT 결정은 설정 충돌과 릴리즈 혼선을 줄이는 핵심이다. 두 군데를 동시에 진실로 두면 장애 재현이 어렵다.

## 선택지별 트레이드오프
### A) soul 우선
- 트레이드오프: 대화/정체성의 일관성은 높지만 앱 설정과 분리 운영 부담이 생긴다.
- 되돌리기 비용(코드 변경량): 300줄 미만

### B) soma config 우선
- 트레이드오프: 운영 통제는 쉬우나 soul 컨텍스트와 충돌 가능성이 있다.
- 되돌리기 비용(코드 변경량): 300줄 미만

### C) 병합 룰 정의
- 트레이드오프: 유연성은 최고지만 규칙 복잡도와 디버깅 비용이 매우 커진다.
- 되돌리기 비용(코드 변경량): 그 이상

## 질문 중요도
- 최대 되돌리기 비용: 그 이상
- 중요도: 최상 (되돌릴 때 바뀌는 코드 경로의 폭 기준)

## 결정 체크포인트
- 선택 즉시 영향받는 영역: 포트 인터페이스, 핸들러/서비스 분기, 테스트 전략
- 결정 후 확인할 지표: 회귀 실패율, PR 크기, 리팩토링 단계 충돌 건수
