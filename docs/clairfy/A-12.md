# A-12 — auth 책임을 inbound-only로 할지 core 중복 검증까지 할지

## 문맥
- 인증은 defense-in-depth 영역이다. 어디서 한 번 더 검증할지에 따라 보안/복잡도가 바뀐다.

## 선택지별 트레이드오프
### A) inbound middleware 고정
- 트레이드오프: 구조는 단순하지만 내부 호출 경로에서 방어막이 줄어든다.
- 되돌리기 비용(코드 변경량): 300줄 미만

### B) core에서도 중복 검증
- 트레이드오프: 보안은 강화되지만 중복 체크 비용과 코드량이 늘어난다.
- 되돌리기 비용(코드 변경량): 100줄 미만

## 질문 중요도
- 최대 되돌리기 비용: 300줄 미만
- 중요도: 높음 (되돌릴 때 바뀌는 코드 경로의 폭 기준)

## 결정 체크포인트
- 선택 즉시 영향받는 영역: 포트 인터페이스, 핸들러/서비스 분기, 테스트 전략
- 결정 후 확인할 지표: 회귀 실패율, PR 크기, 리팩토링 단계 충돌 건수
